<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OK UI Audit Sample Implementation</title>
</head>

<body style="width: 100%">

  <table style="margin: 0 auto">
    <tr>
      <td>
        <div id="advert-narrow-good" style="width: 200px; background-color: lightgreen;">
          <p style="text-align: center">Narrow Good</p>
        </div>
      </td>
      <td>
        <div id="advert-wide-good" style="width: 400px; background-color: lightgreen;">
          <p style="text-align: center">Wide Good</p>
        </div>
      </td>
    </tr>
    <tr>
      <td>
        <div id="advert-narrow-result-error" style="width: 200px; background-color: lightsalmon;">
          <p style="text-align: center">Narrow Result Error</p>
        </div>
      </td>
      <td>
        <div id="advert-wide-missing" style="width: 400px; background-color: lightsalmon;">
          <p style="text-align: center">Wide Missing Identity</p>
        </div>
      </td>
    </tr>
    <tr>
      <td>
        <div id="advert-narrow-violating" style="width: 200px; background-color: lightcoral;">
          <p style="text-align: center">Narrow Violating</p>
        </div>
        <button id="advert-narrow-violating-button">Open Audit Viewer</button>
      </td>
      <td>
        <div id="advert-wide-violating" style="width: 400px; background-color: lightcoral;">
          <p style="text-align: center">Wide Violating</p>
        </div>
        <button id="advert-wide-violating-button" style="text-align: right">Open Audit Viewer</button>
      </td>
    </tr>
  </table>

  <script src="dist/ok-ui-audit-en-us.js"></script>
  <script>

    // adElementId - the id of the element that displays the advert.
    // mockName - the name of the mock audit log.
    function bindAuditViewer(adElementId, mockName) {
      const adElement = document.getElementById(adElementId);
      adElement.setAttribute('auditLog', mockName);
      new OKA.Controller({ 
        auditClickElement: adElementId + '-button',
        pauseAdVisible: true,
        logoUrls: ["https://prebid.org/wp-content/uploads/2021/02/Prebid-Logo-RGB-Full-Color-Medium.svg"] 
      }).bind(adElement.id);
    }

    // See tests for audit component for creation of mock audit log options.
    // Options; 'all-good', 'result-error', 'corrupt-signature', 'identity-not-found'
    bindAuditViewer('advert-narrow-good', 'all-good');
    bindAuditViewer('advert-wide-good', 'all-good');
    bindAuditViewer('advert-narrow-result-error', 'result-error');
    bindAuditViewer('advert-wide-missing', 'identity-not-found');
    bindAuditViewer('advert-narrow-violating', 'corrupt-signature');
    bindAuditViewer('advert-wide-violating', 'corrupt-signature');

  </script>

</body>

</html>